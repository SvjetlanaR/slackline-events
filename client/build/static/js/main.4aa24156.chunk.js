(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),a=n(37),r=n.n(a),c=(n(43),n(15)),o=n(5),l=n(6),d=n(8),h=n(7),j=(n(44),n(3)),u=n(9),b=n.n(u),p=n(2),O=n(0);function x(e){return Object(O.jsx)("div",{children:e.events.map((function(e){return Object(O.jsx)("h3",{children:Object(O.jsx)(p.b,{to:"/events/".concat(e._id),children:e.title})},e._id)}))})}var m=function(e,t){return b.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e}))},g=function(e,t){return b.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e}))},v=function(){return b.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data}))},f=n(20),y=n.n(f);n(89),n(90);function C(){return Object(O.jsxs)("nav",{children:[Object(O.jsx)("h4",{children:Object(O.jsx)(p.b,{to:"/events",children:"Home Page"})}),Object(O.jsx)("h4",{children:Object(O.jsx)(p.b,{to:"/user-page",id:"eventsLink",children:" My Events "})}),Object(O.jsx)("h4",{children:Object(O.jsx)(p.b,{to:"/tree-protection",children:"! Tree Protection"})})]})}var w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={events:[]},e.getData=function(){b.a.get("/api/events").then((function(t){console.log(t.data),e.setState({events:t.data})})).catch((function(e){return console.log(e)}))},e.handleLogout=function(){v().then((function(){e.props.setUser(null)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return Object(O.jsxs)("div",{id:"eventsMargin",children:[Object(O.jsx)(C,{}),Object(O.jsx)("h2",{children:"Welcome to the Slackline Community"}),Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"/add-event",id:"addEventLink",children:"Add Event"})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{id:"allEvents",children:"All Events:"}),Object(O.jsx)(x,{events:this.state.events,id:"eventList"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{id:"video",children:[Object(O.jsx)(y.a,{url:"https://www.youtube.com/watch?v=obyxQ2FAAbY&t=102s",controls:!0,width:"400px",height:"200px"}),Object(O.jsx)(y.a,{url:"https://www.youtube.com/watch?v=BqyXmB-4sxQ",controls:!0,width:"400px",height:"200px"})]}),Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"/",onClick:this.handleLogout,id:"logOut",children:"Log Out"})})]})}}]),n}(i.Component);n(91);function S(e){return Object(O.jsx)("body",{id:"homepage-bg",children:Object(O.jsxs)("div",{className:"homepage",children:[Object(O.jsx)("h1",{children:"Slackline Events"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{}),Object(O.jsx)(p.b,{to:"/signup",children:"Signup"}),Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"/login",children:"Login"})}),Object(O.jsx)("h4",{id:"dontforget",children:"Don't forget to bring a Tree Protector!"})]})})}var F=n(17),U=(n(92),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",message:""},e.handleChange=function(t){var n=t.target,i=n.name,s=n.value;e.setState(Object(F.a)({},i,s))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,i=n.username,s=n.password;m(i,s).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(console.log(t),e.props.setUser(t),e.props.history.push("/events"))}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{id:"signupMargin",children:[Object(O.jsx)("h2",{children:"Signup"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(O.jsx)("input",{id:"username",type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(O.jsx)("label",{htmlFor:"password",id:"pwLabell",children:"Password: "}),Object(O.jsx)("input",{id:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(O.jsx)("button",{type:"submit",children:"Sign Up"}),this.state.message&&Object(O.jsx)("h3",{children:this.state.message})]})]})}}]),n}(i.Component)),k=(n(93),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",message:""},e.handleChange=function(t){var n=t.target,i=n.name,s=n.value;e.setState(Object(F.a)({},i,s))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,i=n.username,s=n.password;g(i,s).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(console.log(t),e.props.setUser(t),e.props.history.push("/events"))}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{id:"loginMargin",children:[Object(O.jsx)("h2",{children:"Login"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(O.jsx)("input",{id:"username",type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(O.jsx)("label",{htmlFor:"password",id:"pwLabel",children:"Password: "}),Object(O.jsx)("input",{id:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(O.jsx)("button",{type:"submit",children:"Log in"}),this.state.message&&Object(O.jsx)("h3",{children:this.state.message}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{children:Object(O.jsx)(p.b,{to:"/signup",id:"signupp",children:"Sign Up"})})})]})]})}}]),n}(i.Component)),E=(n(94),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={title:"",date:"",description:"",equipment:"",time:"",duration:"",location:"",counter:"",userEmail:""},e.handleSubmit=function(t){t.preventDefault();var n=e.state,i=n.title,s=n.date,a=n.description,r=n.equipment,c=n.time,o=n.duration,l=n.location,d=n.counter,h=n.userEmail;b.a.post("/api/events",{title:i,date:s,description:a,equipment:r,time:c,duration:o,location:l,counter:d,userEmail:h}).then((function(t){console.log(t.data),e.setState({title:"",date:"",description:"",equipment:"",time:"",duration:"",location:"",counter:"",userEmail:""}),e.props.history.push("/events")}))},e.handleChange=function(t){var n=t.target,i=n.name,s=n.value;e.setState(Object(F.a)({},i,s))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{id:"addEventMargin",children:[Object(O.jsx)(C,{}),Object(O.jsx)("div",{id:"addForm",children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,id:"addEventForm",children:[Object(O.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(O.jsx)("input",{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"date",children:"Date: "}),Object(O.jsx)("input",{type:"date",name:"date",id:"date",placeholder:"dd-mm-yyyy",value:this.state.date,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"time",children:"Time: "}),Object(O.jsx)("input",{type:"text",name:"time",id:"time",value:this.state.time,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(O.jsx)("input",{type:"textarea",name:"description",id:"description",value:this.state.description,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"equipment",children:"Equipment: "}),Object(O.jsx)("input",{type:"text",name:"equipment",id:"equipment",value:this.state.equipment,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"duration",children:"Duration: "}),Object(O.jsx)("input",{type:"text",name:"duration",id:"duration",value:this.state.duration,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"location",children:"Location: "}),Object(O.jsx)("input",{type:"text",name:"location",id:"location",value:this.state.location,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"counter",children:"Counter: "}),Object(O.jsx)("input",{type:"text",name:"counter",id:"counter",value:this.state.counter,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"userEmail",children:"Contact Email: "}),Object(O.jsx)("input",{type:"text",name:"userEmail",id:"userEmail",value:this.state.userEmail,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"submit",children:"Create this project"})]})}),Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"/",onClick:this.handleLogout,id:"logOut",children:"Log Out"})})]})}}]),n}(i.Component)),L=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Update this Event"}),Object(O.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(O.jsx)("input",{type:"text",id:"title",name:"title",value:this.props.title,onChange:this.props.handleChange}),Object(O.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(O.jsx)("input",{type:"text",id:"description",name:"description",value:this.props.description,onChange:this.props.handleChange}),Object(O.jsx)("label",{htmlFor:"date",children:"Date: "}),Object(O.jsx)("input",{type:"date",id:"date",name:"date",value:this.props.date,onChange:this.props.handleChange}),Object(O.jsx)("label",{htmlFor:"time",children:"Time: "}),Object(O.jsx)("input",{type:"text",id:"time",name:"time",value:this.props.time,onChange:this.props.handleChange}),Object(O.jsx)("button",{type:"submit",children:"Update"})]})]})}}]),n}(i.Component),D=(n(95),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={event:null,title:"",description:"",date:"",time:"",editForm:!1,join:!1},e.toggleEditForm=function(){e.setState((function(e){return{editForm:!e.editForm}}))},e.getData=function(){b.a.get("/api/events/".concat(e.props.match.params.id)).then((function(t){console.log(t.data),e.setState({event:t.data,title:t.data.title,description:t.data.description,date:t.data.title,time:t.data.time,join:t.data.join})})).catch((function(e){console.log(e)}))},e.deleteEvent=function(){b.a.delete("/api/events/".concat(e.state.event._id)).then((function(){e.props.history.push("/user-page")})).catch((function(e){console.log(e)}))},e.handleChange=function(t){var n=t.target,i=n.name,s=n.value;e.setState(Object(F.a)({},i,s))},e.handleSubmit=function(t){var n=e.state,i=n.title,s=n.description,a=n.date,r=n.time;t.preventDefault(),b.a.put("/api/events/".concat(e.state.event._id),{title:i,description:s,date:a,time:r}).then((function(t){console.log(t),e.setState({event:t.data,title:t.data.title,description:t.data.description,date:t.data.date,time:t.data.time,editForm:!1})})).catch((function(e){return console.log(e)}))},e.join=function(){b.a.post("/api/events/join",{event:e.state.event._id,userId:e.props.loggedInUser._id}).then((function(){e.setState({join:!e.state.join})})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return this.state.event?(console.log(this.props.loggedInUser),console.log(this.state.event.creator),Object(O.jsxs)("div",{id:"detailsMargin",children:[Object(O.jsx)(C,{}),Object(O.jsxs)("h2",{children:["Title: ",this.state.event.title," "]}),Object(O.jsxs)("p",{children:["Date: ",this.state.event.date," "]}),Object(O.jsxs)("p",{children:["Time: ",this.state.event.time," "]}),Object(O.jsxs)("p",{children:["Description: ",this.state.event.description," "]}),Object(O.jsxs)("p",{children:["Equipment: ",this.state.event.equipment]}),Object(O.jsxs)("p",{children:["Duration: ",this.state.event.duration]}),Object(O.jsxs)("p",{children:["Contact email: ",this.state.event.userEmail]}),Object(O.jsxs)("p",{children:["Attending: ",this.state.event.join.length," person"]}),Object(O.jsx)("button",{onClick:this.join,id:"detailsButton",children:this.state.join?"join":"joined"}),this.props.loggedInUser._id===this.state.event.creator&&Object(O.jsx)("button",{onClick:this.deleteEvent,id:"detailsButton",children:"Delete"}),this.props.loggedInUser._id===this.state.event.creator&&Object(O.jsx)("button",{onClick:this.toggleEditForm,id:"detailsButton",children:"Show Edit Form"}),this.state.editForm&&Object(O.jsx)(L,Object(c.a)(Object(c.a)({},this.state),{},{handleChange:this.handleChange,handleSubmit:this.handleSubmit})),Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"/",onClick:this.handleLogout,id:"logOut",children:"Log Out"})})]})):Object(O.jsx)("h1",{children:"Loading.."})}}]),n}(i.Component)),T=(n(96),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{id:"protect",children:[Object(O.jsx)(C,{}),Object(O.jsx)("h2",{children:"Tree Protection "}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"Tree diameter of at least 30 cm at anchor point, increase the diameter with higher tensions"}),Object(O.jsx)("li",{children:"Tree protection under the tree sling, in order to prevent the sling from abrading the bark and distributing the pressure over the uneven surface of the tree"}),Object(O.jsx)("li",{children:"Treeslings which are at least 5 cm wide (slings should be spread out behind the tree to increase surface area)"})]}),Object(O.jsx)("br",{}),"For more information visit:",Object(O.jsx)("br",{}),Object(O.jsx)("a",{href:"https://www.slacklineinternational.org/tree-protection/",target:"_blank",rel:"noopener noreferrer",children:"SlacklineInternational Tree Protection"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{id:"protectionvideo",children:Object(O.jsx)(y.a,{url:"https://www.youtube.com/watch?v=uKGTJZeQvxY",controls:!0,width:"400px",height:"200px"})}),Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"/",onClick:this.handleLogout,id:"logOut",children:"Log Out"})})]})}}]),n}(i.Component)),A=(n(97),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={events:[],user:e.props.loggedInUser,join:e.props.join},e.getData=function(){var t=e.state.user;b.a.get("/api/events").then((function(n){console.log(t);var i=n.data.filter((function(e){return console.log(e),e.creator===t._id}));e.setState({events:i})})).catch((function(e){return console.log(e)}))},e.handleLogout=function(){v().then((function(){e.props.setUser(null)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return Object(O.jsxs)("div",{id:"myEventsMargin",children:[Object(O.jsx)(C,{}),Object(O.jsx)("h2",{children:"My Events"}),Object(O.jsx)("h3",{children:"List of my events"}),Object(O.jsx)(x,{events:this.state.events,id:"eventList"}),Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"/add-event",id:"addEventLink",children:"Add Event"})}),Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"/",onClick:this.handleLogout,id:"logOut",children:"Log Out"})})]})}}]),n}(i.Component)),q=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{id:"margin",children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:"/",component:S}),Object(O.jsx)(j.a,{exact:!0,path:"/events",render:function(t){return Object(O.jsx)(w,Object(c.a)({setUser:e.setUser},t))}}),Object(O.jsx)(j.a,{exact:!0,path:"/tree-protection",render:function(t){return Object(O.jsx)(T,Object(c.a)({setUser:e.setUser},t))}}),Object(O.jsx)(j.a,{exact:!0,path:"/signup",render:function(t){return Object(O.jsx)(U,Object(c.a)({setUser:e.setUser},t))}}),Object(O.jsx)(j.a,{exact:!0,path:"/login",render:function(t){return Object(O.jsx)(k,Object(c.a)({setUser:e.setUser},t))}}),Object(O.jsx)(j.a,{exact:!0,path:"/add-event",render:function(t){return Object(O.jsx)(E,Object(c.a)({setUser:e.setUser},t))}}),Object(O.jsx)(j.a,{exact:!0,path:"/user-page",render:function(t){return Object(O.jsx)(A,Object(c.a)(Object(c.a)({setUser:e.setUser},t),{},{join:e.state.join,loggedInUser:e.state.user}))}}),Object(O.jsx)(j.a,{exact:!0,path:"/events/:id",render:function(t){return Object(O.jsx)(D,Object(c.a)(Object(c.a)({setUser:e.setUser},t),{},{loggedInUser:e.state.user}))}})]})})}}]),n}(s.a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),a(e),r(e)}))};b.a.get("/api/auth/loggedin").then((function(e){var t=e.data;console.log("user in index.js: ",t),r.a.render(Object(O.jsx)(p.a,{children:Object(O.jsx)(q,{user:t})}),document.getElementById("root"))})).catch((function(e){console.log(e)})),I()}},[[98,1,2]]]);
//# sourceMappingURL=main.4aa24156.chunk.js.map